# üöÄ AI Chat Exporter Ultimate

**Version**: 0.10.5  
**License**: MIT (Ultimate Edition)  
**Code Source**: Generated with support from CODEX and CODEX CLI.  
**Owner / Management**: Dr. Babak Sorkhpour ([@Drbabakskr](https://x.com/Drbabakskr))  
**Author**: Dr. Babak Sorkhpour with support from **Gemini 2.0 Flash (Google)**

---

## üìã Status & Support

| Format | Status | Notes |
|:---|:---|:---|
| **Markdown** | üü¢ **Stable** | Standard text formatting supported. |
| **HTML** | üü¢ **Stable** | Full layout, embedded images, responsive. |
| **JSON** | üü¢ **Stable** | Minified (no newlines) for data analysis. |
| **DOCX** | üü¢ **Stable** | Offline embedded images (Word ready). |
| **CSV** | üü¢ **Stable** | Excel compatible (UTF-8, single line rows). |
| **SQL** | üü¢ **Stable** | PostgreSQL compatible dumps. |
| **PDF** | üü¢ **Stable** | Standalone file generation with embedded page rendering for multilingual reliability and image inclusion. |

## üõ† Features

*   **Secure Isolation**: Each extraction process runs independently within its own tab context.
*   **Zero-Dependency**: Operates entirely locally without external API calls.
*   **Industrial Archiving**: CRC32 validated ZIP archives.
*   **Embedded Media**: Automatically converts remote images to Base64 for fully offline Word and HTML documents.
*   **Security Hardened**: Input sanitization prevents XSS in exported files.

## üöÄ One-Click Installation

To install the developer preview directly from GitHub:

1.  **Download** the source code (ZIP) from the Releases page.
2.  **Unzip** the folder to your preferred location.
3.  Open Chrome and navigate to `chrome://extensions`.
4.  Enable **Developer Mode** in the top right corner.
5.  Click **Load Unpacked** and select the unzipped folder.

## ‚öñÔ∏è Legal & Privacy

*   **Data Control**: The user acts as the sole Data Controller. This software is a local processing tool.
*   **Security**: Enforced Content Security Policy (CSP).
*   **Copyright**: Dr. Babak Sorkhpour ¬© 2026. All rights reserved.

---
*Generated by AI Chat Exporter Engineering Team.*
## üß© GitHub Files Guide (What each file is for)

- `manifest.json`: Chrome extension runtime config (permissions, content script mapping, popup entry).
- `content.js`: Platform extraction orchestrator and per-platform engines (ChatGPT/Claude/Gemini/AI Studio).
- `script.js`: Popup application controller and export generation pipeline (HTML/DOC/PDF/etc).
- `index.html`: Popup UI layout, controls, tooltips, and modal sections.
- `VERSION.json`: Single source-of-truth version metadata for release automation.
- `CHANGELOG.md`: Release history and user-visible change summaries.
- `MEMORY.md`: Project memory (current constraints, priorities, and focus points).
- `TECHNICAL_ALGORITHMS.md`: High-level algorithm documentation for extraction/export logic.
- `PLATFORM_ENGINE_ARCHITECTURE.md`: Engine separation strategy + normalized extraction model.
- `RELEASE_PROCESS.md`: Manual/operational release flow and tag policy.
- `features/exporter.feature`: Hand-written BDD scenarios for core flows.
- `features/auto_generated.feature`: Auto-generated BDD scenarios from parser/export signatures.
- `scripts/generate_gherkin_from_code.cjs`: Script that generates Gherkin feature coverage from source code.
- `.github/workflows/ci.yml`: CI validation for push/PR.
- `.github/workflows/release.yml`: Tag-driven release validation pipeline.

## üõ† Manual Usage (Step-by-step)

1. Open a supported chat tab (`chatgpt.com`, `claude.ai`, `gemini.google.com`, `aistudio.google.com`).
2. Open extension popup.
3. If chat is long, click **Fetch Full** and confirm loading from beginning.
4. Check message count and preview with **Preview**.
5. Select format(s): Markdown/HTML/Word/JSON/CSV/SQL/TXT/PDF.
6. Configure options in **Settings**:
   - Include Images
   - Code formatting
   - Raw HTML mode (advanced)
   - ZIP bundling
7. Click **Generate Package**.
8. To export only images, click **Export Photos**.
9. If needed, download logs from Settings for troubleshooting.

## üî¨ Manual Engineering Commands

- Build: `npm run build`
- Generate BDD features from code: `npm run gherkin:generate`
- Syntax check content script: `node -c content.js`
- Syntax check popup script: `node -c script.js`


## üîê Local AI Engine & Privacy Answer

- The "adaptive analyzer" is a **local heuristic engine** inside `content.js`.
- It does **not** send message contents to external AI services.
- DOM scoring/extraction is performed on-device in the current tab context.
- Export files are generated and downloaded locally.

If an online AI-assistant mode is ever added in the future, it must be opt-in, disabled by default, and documented clearly in this repository.

## üìÅ Detailed GitHub File Roles

| File/Path | Purpose | Manual Usage |
|---|---|---|
| `manifest.json` | Extension permissions and entrypoints | Must match Chrome extension capabilities before release. |
| `index.html` | Popup layout and controls | Open popup to access extraction + export actions. |
| `content.js` | Platform extraction engines + orchestrator | Injected into supported chat pages to read text/image/code. |
| `script.js` | Popup controller + export pipeline | Handles Fetch Full, Preview, export formats, photo export. |
| `background.js` | Tab-isolated state and logs | Keeps per-tab extraction cache and debug logs. |
| `VERSION.json` | Canonical release version metadata | Update on each release; keep synchronized with manifest/readme. |
| `CHANGELOG.md` | Release notes | Add new release section every version bump. |
| `MEMORY.md` | Team memory and constraints | Update when priorities/known constraints change. |
| `TECHNICAL_ALGORITHMS.md` | Technical algorithm summary | Keep updated when extraction/export logic changes. |
| `PLATFORM_ENGINE_ARCHITECTURE.md` | Engine-level architecture | Update when selectors/engine strategy changes. |
| `SECURITY_PRIVACY_MODEL.md` | Local-processing and security model | Update with each security/privacy policy change. |
| `RELEASE_PROCESS.md` | Release operations runbook | Follow step-by-step for manual and tagged releases. |
| `features/exporter.feature` | Manual BDD scenarios | Add high-value behavior scenarios by hand. |
| `features/auto_generated.feature` | Auto BDD coverage from code | Regenerate via `npm run gherkin:generate`. |
| `.github/workflows/ci.yml` | PR/push CI checks | Runs baseline validation on code updates. |
| `.github/workflows/release.yml` | Tag-based release validation | Runs release checks on `v*` tags. |
| `scripts/generate_gherkin_from_code.cjs` | BDD generator from source signatures | Run manually before release. |

## üß≠ Manual Use (Operator Procedure)

### End-user usage
1. Open a supported chat page.
2. Open popup and wait for initial analysis.
3. Click **Fetch Full** to load from beginning for long chats.
4. Click **Preview** to validate content.
5. Select export formats.
6. Configure settings (images/code/raw HTML/zip).
7. Click **Generate Package**.
8. For image-only archive, click **Export Photos**.

### Maintainer usage (manual release)
1. Update version values (`VERSION.json`, `manifest.json`, `metadata.json`, UI + README).
2. Update `CHANGELOG.md`.
3. Run:
   - `npm run gherkin:generate`
   - `node -c content.js`
   - `node -c script.js`
   - `npm run build`
4. Commit with semantic message and version suffix.
5. Create Git tag `vX.Y.Z` and push.


## üß™ ChatGPT DOM Self-Test (Debug Mode)

For deep ChatGPT DOM diagnostics (local only):

1. Open ChatGPT tab and popup.
2. In DevTools console run:
   - `chrome.runtime.sendMessage({ action: "analyze_dom", mode: "visible" })`
   - `chrome.runtime.sendMessage({ action: "analyze_dom", mode: "full" })`
3. Inspect `window.CHATGPT_DOM_ANALYSIS` for root candidates, message evidence, and parsed blocks.

Console ends with `[PASS]`, `[WARN]`, or `[FAIL]` diagnostics.


## üîé Claude DOM Discovery (Manual)

For claude.ai reverse-engineering in a logged-in session, the extension now exposes a local discovery action:

- In DevTools console on a Claude chat page:
  - `chrome.runtime.sendMessage({ action: "discover_claude_structure" }, console.log)`
- Output is also stored on-page in:
  - `window.CLAUDE_DOM_DISCOVERY`

This discovery reports root candidates, message selector candidates, role hints, and content signal counts from the *actual live DOM*.

## üìà Progress & Photo Export Modes

- During **Generate Package**, the export button now shows live progress percentages.
- **Export Photos** asks whether to:
  - pack all photos into one ZIP, or
  - export photos as batch files directly.
